{% if jekyll.environment == 'production' and site.google_analytics %}
  {% include google-analytics.html %}
{% endif %}

<script async src="{{ '/assets/javascripts/main.js' | relative_url }}"></script>

{% if site.search %}
  {%- assign search_provider = site.search_provider | default: "lunr" -%}
  {%- case search_provider -%}
    {%- when "lunr" -%}
      {% include search/lunr-search-scripts.html %}
    {%- when "algolia" -%}
      {% include search/algolia-search-scripts.html %}
  {%- endcase -%}
{% endif %}

{% assign comments_js = site.data.js-manifest['comments.js'] | default: 'comments.js' | prepend: 'assets/' | relative_url %}
<script async src="{{ comments_js }}"></script>

<script>
navigator.serviceWorker && location.protocol === 'https:' && navigator.serviceWorker.register('/sw.js', {
  scope: '/'
})
</script>
