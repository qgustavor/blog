{"id":124,"date":"2020-05-06T03:51:37","date_gmt":"2020-05-06T03:51:37","guid":{"rendered":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/"},"modified":"2024-04-27T18:34:12","modified_gmt":"2024-04-27T21:34:12","slug":"speck","status":"publish","type":"post","link":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/","title":{"rendered":"Speck"},"content":{"rendered":"<p>Continuando no assunto de criptografia hoje o assunto \u00e9 o Speck. Gosto muito dela\u2026 para qualquer que n\u00e3o precisa de seguran\u00e7a.<\/p>\n<p>O Speck \u00e9 uma cifra de bloco, ou seja, \u00e9 uma fun\u00e7\u00e3o que toma uma chave e uma entrada e ela retorna uma vers\u00e3o criptografada desta entrada. Esse processo tamb\u00e9m pode ser invertido. O resultado \u00e9 tal que, mantendo a chave, uma pequena diferen\u00e7a na entrada resulta em uma grande diferen\u00e7a no bloco, em oposi\u00e7\u00e3o uma cifra de <em>stream<\/em> onde isso n\u00e3o ocorre.<\/p>\n<p>Em geral os dois tipos de cifras usam vetores de inicializa\u00e7\u00e3o para evitar problemas relativos a descobrir a entrada com base em compara\u00e7\u00f5es das sa\u00eddas, por\u00e9m em situa\u00e7\u00f5es onde as entradas s\u00e3o menores que o tamanho dos blocos e a entradas nunca se repetem, as cifras de bloco permitem dispensar o uso desses vetores, o que permite uma redu\u00e7\u00e3o na quantidade de dados transmitida.<\/p>\n<p>Ele n\u00e3o \u00e9 s\u00f3 uma cifra, mas uma fam\u00edlia. Se for implementada corretamente ela suporta blocos de 32, 48, 64, 96 e 128 bit, com chaves variando entre 64 bits e 256 bits. Al\u00e9m disso \u00e9 simples de implementar: a minha implementa\u00e7\u00e3o dele tem apenas 81 linhas (incluindo linhas em branco, coment\u00e1rios e fun\u00e7\u00f5es auxiliares) e suporta todas as varia\u00e7\u00f5es dessa fam\u00edlia de cifras. Uma implementa\u00e7\u00e3o mais simplificada, implementando apenas uma cifra da fam\u00edlia, pode ser implementada em 24 linhas de JavaScript.<\/p>\n<p>Agora, qual \u00e9 o problema do Speck? Por que eu n\u00e3o uso ele em situa\u00e7\u00f5es que precisam de seguran\u00e7a? S\u00e3o v\u00e1rios problemas! O primeiro problema \u00e9 desde que ela foi criada pela NSA e publicada em 2013, ainda que ningu\u00e9m tenha publicado um ataque completo \u00e0 cifra, a reputa\u00e7\u00e3o da cifra \u00e9 p\u00e9ssima! Ela n\u00e3o conseguiu ser padronizada pela ISO, foi removida do kernel do Linux e foi alvo de v\u00e1rias cr\u00edticas.<\/p>\n<p>O outro problema \u00e9 f\u00e1cil de ser notado: o tamanho dos blocos \u00e9 pequeno demais. Isso facilita v\u00e1rios tipos de ataques. Um bloco de 32 bits, por exemplo, s\u00f3 permite 4.2 bilh\u00f5es de entradas diferentes, o que parece muito, mas n\u00e3o \u00e9. Um bloco de 128 bit, que \u00e9 t\u00e3o comum que estou usando ele exatamente agora para acessar o meu editor, \u00e9 10^28 vezes mais seguro.<\/p>\n<p><strong>Mesmo assim eu gosto do Speck!<\/strong> A forma que ele trabalha permite que os blocos sejam de qualquer tamanho m\u00faltiplo de 2 bits, ent\u00e3o posso usar um bloco de 12 bits se eu quiser. Al\u00e9m disso o tamanho da chave \u00e9 limitado apenas pelo n\u00famero de ciclos da opera\u00e7\u00e3o, ent\u00e3o posso usar chaves de 512 bits se eu quiser. Duvido que seja seguro, mas \u00e9 uma melhoria enorme.<\/p>\n<p>Se n\u00e3o est\u00e3o entendendo, eis um exemplo pr\u00e1tico:<\/p>\n<ul>\n<li>A lista de erros da Crunchyroll tem milhares de imagens cadastradas, cada uma \u00e9 representada internamente por um n\u00famero;<\/li>\n<li>Alguns erros n\u00e3o s\u00e3o publicados seja porque n\u00e3o era realmente um erro ou porque cadastrei antes do epis\u00f3dio estar dispon\u00edvel para n\u00e3o-assinantes[^1];<\/li>\n<li>Se eu publicasse o n\u00famero interno das imagens seria poss\u00edvel descobrir facilmente quantos erros eu j\u00e1 cadastrei no total, incluindo os que n\u00e3o foram publicados;<\/li>\n<li>Usando o Speck posso manter estes erros ocultos transformando o n\u00famero da imagem &#8211; algo como &quot;123&quot; &#8211; em um c\u00f3digo como \u201cRD5JM2\u201d;<\/li>\n<li>Esse c\u00f3digo \u00e9 o n\u00famero representado como um bloco de 30 bits, processado pelo Speck e codificado em Base32. Como cada caractere nesse formato representa 5 bits o c\u00f3digo usa 6 caracteres. Como o tamanho m\u00e1ximo do bloco \u00e9 30 bits, posso cadastrar at\u00e9 um pouco mais de um bilh\u00e3o de erros.<\/li>\n<\/ul>\n<p>Imagino que n\u00e3o seja muito dif\u00edcil inverter a opera\u00e7\u00e3o e descobrir os n\u00fameros originais das imagens: tentar as 10^18 chaves poss\u00edveis, considerando que o Speck \u00e9 absurdamente r\u00e1pido, n\u00e3o deve demorar muito. Se fizermos um benchmark simples a minha implementa\u00e7\u00e3o processa 7 milh\u00f5es de chaves por segundo, uma mais otimizada deve processar cem vezes isso, algu\u00e9m atacando a chave provavelmente usaria umas cinquenta m\u00e1quinas em paralelo, assim a chave poder\u00e1 ser quebrada em menos de um ano.<\/p>\n<p>\u00c9 isso o que tenho para hoje, at\u00e9 semana que vem!<\/p>\n<p>[^1]:  \u00c9 um exerc\u00edcio adicional para o leitor entender o motivo real deste problema.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Continuando no assunto de criptografia hoje o assunto \u00e9 o Speck. Gosto muito dela\u2026 para qualquer que n\u00e3o precisa de seguran\u00e7a. O Speck \u00e9 uma cifra de bloco, ou seja, \u00e9 uma fun\u00e7\u00e3o que toma uma chave e uma entrada e ela retorna uma vers\u00e3o criptografada desta entrada. Esse processo tamb\u00e9m pode ser invertido. O [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[9],"tags":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.5 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\r\n<title>Speck - o canto do qgustavor<\/title>\r\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\r\n<link rel=\"canonical\" href=\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\" \/>\r\n<meta property=\"og:locale\" content=\"pt_BR\" \/>\r\n<meta property=\"og:type\" content=\"article\" \/>\r\n<meta property=\"og:title\" content=\"Speck - o canto do qgustavor\" \/>\r\n<meta property=\"og:description\" content=\"Continuando no assunto de criptografia hoje o assunto \u00e9 o Speck. Gosto muito dela\u2026 para qualquer que n\u00e3o precisa de seguran\u00e7a. O Speck \u00e9 uma cifra de bloco, ou seja, \u00e9 uma fun\u00e7\u00e3o que toma uma chave e uma entrada e ela retorna uma vers\u00e3o criptografada desta entrada. Esse processo tamb\u00e9m pode ser invertido. O [&hellip;]\" \/>\r\n<meta property=\"og:url\" content=\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\" \/>\r\n<meta property=\"og:site_name\" content=\"o canto do qgustavor\" \/>\r\n<meta property=\"article:published_time\" content=\"2020-05-06T03:51:37+00:00\" \/>\r\n<meta property=\"article:modified_time\" content=\"2024-04-27T21:34:12+00:00\" \/>\r\n<meta name=\"author\" content=\"qgustavor\" \/>\r\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\r\n<meta name=\"twitter:creator\" content=\"@qgustavor\" \/>\r\n<meta name=\"twitter:site\" content=\"@qgustavor\" \/>\r\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Article\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\"},\"author\":{\"name\":\"qgustavor\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52\"},\"headline\":\"Speck\",\"datePublished\":\"2020-05-06T03:51:37+00:00\",\"dateModified\":\"2024-04-27T21:34:12+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\"},\"wordCount\":724,\"publisher\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52\"},\"articleSection\":[\"Programa\u00e7\u00e3o\"],\"inLanguage\":\"pt-BR\"},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\",\"url\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\",\"name\":\"Speck - o canto do qgustavor\",\"isPartOf\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#website\"},\"datePublished\":\"2020-05-06T03:51:37+00:00\",\"dateModified\":\"2024-04-27T21:34:12+00:00\",\"breadcrumb\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#breadcrumb\"},\"inLanguage\":\"pt-BR\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"In\u00edcio\",\"item\":\"https:\/\/qgustavor.duckdns.org\/blog\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Speck\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#website\",\"url\":\"https:\/\/qgustavor.duckdns.org\/blog\/\",\"name\":\"o canto do qgustavor\",\"description\":\"\",\"publisher\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/qgustavor.duckdns.org\/blog\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"pt-BR\"},{\"@type\":[\"Person\",\"Organization\"],\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52\",\"name\":\"qgustavor\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"pt-BR\",\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/4039a864f60bdb71f6b8ad64f0b94f87?size=256\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/4039a864f60bdb71f6b8ad64f0b94f87?size=256\",\"width\":256,\"height\":256,\"caption\":\"qgustavor\"},\"logo\":{\"@id\":\"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/image\/\"},\"sameAs\":[\"https:\/\/qgustavor.tk\",\"https:\/\/x.com\/qgustavor\"]}]}<\/script>\r\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Speck - o canto do qgustavor","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/","og_locale":"pt_BR","og_type":"article","og_title":"Speck - o canto do qgustavor","og_description":"Continuando no assunto de criptografia hoje o assunto \u00e9 o Speck. Gosto muito dela\u2026 para qualquer que n\u00e3o precisa de seguran\u00e7a. O Speck \u00e9 uma cifra de bloco, ou seja, \u00e9 uma fun\u00e7\u00e3o que toma uma chave e uma entrada e ela retorna uma vers\u00e3o criptografada desta entrada. Esse processo tamb\u00e9m pode ser invertido. O [&hellip;]","og_url":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/","og_site_name":"o canto do qgustavor","article_published_time":"2020-05-06T03:51:37+00:00","article_modified_time":"2024-04-27T21:34:12+00:00","author":"qgustavor","twitter_card":"summary_large_image","twitter_creator":"@qgustavor","twitter_site":"@qgustavor","schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Article","@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#article","isPartOf":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/"},"author":{"name":"qgustavor","@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52"},"headline":"Speck","datePublished":"2020-05-06T03:51:37+00:00","dateModified":"2024-04-27T21:34:12+00:00","mainEntityOfPage":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/"},"wordCount":724,"publisher":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52"},"articleSection":["Programa\u00e7\u00e3o"],"inLanguage":"pt-BR"},{"@type":"WebPage","@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/","url":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/","name":"Speck - o canto do qgustavor","isPartOf":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/#website"},"datePublished":"2020-05-06T03:51:37+00:00","dateModified":"2024-04-27T21:34:12+00:00","breadcrumb":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#breadcrumb"},"inLanguage":"pt-BR","potentialAction":[{"@type":"ReadAction","target":["https:\/\/qgustavor.duckdns.org\/blog\/speck\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/qgustavor.duckdns.org\/blog\/speck\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"In\u00edcio","item":"https:\/\/qgustavor.duckdns.org\/blog\/"},{"@type":"ListItem","position":2,"name":"Speck"}]},{"@type":"WebSite","@id":"https:\/\/qgustavor.duckdns.org\/blog\/#website","url":"https:\/\/qgustavor.duckdns.org\/blog\/","name":"o canto do qgustavor","description":"","publisher":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/qgustavor.duckdns.org\/blog\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"pt-BR"},{"@type":["Person","Organization"],"@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/5005d30bb095ab19661abe12ea303b52","name":"qgustavor","image":{"@type":"ImageObject","inLanguage":"pt-BR","@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/image\/","url":"https:\/\/secure.gravatar.com\/avatar\/4039a864f60bdb71f6b8ad64f0b94f87?size=256","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/4039a864f60bdb71f6b8ad64f0b94f87?size=256","width":256,"height":256,"caption":"qgustavor"},"logo":{"@id":"https:\/\/qgustavor.duckdns.org\/blog\/#\/schema\/person\/image\/"},"sameAs":["https:\/\/qgustavor.tk","https:\/\/x.com\/qgustavor"]}]}},"_links":{"self":[{"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/posts\/124"}],"collection":[{"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/comments?post=124"}],"version-history":[{"count":1,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/posts\/124\/revisions"}],"predecessor-version":[{"id":1227,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/posts\/124\/revisions\/1227"}],"wp:attachment":[{"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/media?parent=124"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/categories?post=124"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/qgustavor.duckdns.org\/blog\/wp-json\/wp\/v2\/tags?post=124"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}